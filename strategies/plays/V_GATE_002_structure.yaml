version: "3.0.0"
name: "V_GATE_002_structure"
description: "Gate validation Play - Market structure for cleanup regression testing"

symbol: "BTCUSDT"
tf: "15m"

account:
  initial_capital_usdt: 10000
  leverage: 1
  fee_rate_pct: 0.04

features:
  ema_20:
    indicator: ema
    params:
      length: 20
  atr_14:
    indicator: atr
    params:
      length: 14

structures:
  - type: swing
    key: swing_15m
    params:
      lookback: 10

  - type: trend
    key: trend_15m
    depends_on: swing_15m

actions:
  entry_long:
    all:
      - ["trend_15m.trend_state", "eq", 1]
      - ["close", "gt", "ema_20"]

  entry_short:
    all:
      - ["trend_15m.trend_state", "eq", -1]
      - ["close", "lt", "ema_20"]

risk:
  stop_loss_pct: 2.0
  take_profit_pct: 4.0
  max_position_pct: 10.0
