version: "3.0.0"
name: "F_006_zone_bounce"
description: "Functional Test: Zone Bounce - Tests zone detection and structure outputs"

symbol: "BTCUSDT"
tf: "1h"

features:
  atr_14:
    indicator: atr
    params:
      length: 14
  rsi_14:
    indicator: rsi
    params:
      length: 14

structures:
  exec:
    - type: swing
      key: swing
      params:
        left: 5
        right: 5

# Engine components tested:
# - Swing structure detection
# - Structure output access (high_level, low_level)
# - Price vs structure level comparison
actions:
  entry_long:
    all:
      - ["close", ">", "swing.low_level"]   # Price above recent swing low
      - ["close", "<", "swing.high_level"]  # Price below recent swing high
      - ["rsi_14", "<", 40]                  # Oversold confirmation

  exit_long:
    all:
      - ["close", ">", "swing.high_level"]  # Price breaks above resistance

risk:
  stop_loss_pct: 1.0
  take_profit_pct: 3.0
  max_position_pct: 100.0

_test_metadata:
  test_id: "F_006"
  category: "zone_detection"
  min_signals: 2
  max_signals: 15
  warmup_bars: 30
  edge_cases:
    - "overlapping_zones"
    - "zone_invalidation"
    - "rapid_zone_breaks"
